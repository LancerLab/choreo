// RUN: choreo -i %s | FileCheck --match-full-lines %s
// RUN: choreo -vn -dv=valno %s | FileCheck --check-prefix=VALNO --match-full-lines %s

__co__ void foo() {
  println("aa");
  H = 50;
}

__co__ void bar(int x) {
  assert(x == 100, "x == 100");
  H = 50.0f;
}

// CHECK: Symbol:    ::foo::H, Type: s32
// CHECK: Symbol:    ::bar::H, Type: f32

// VALNO:  scope-1 {
// VALNO:   New VN #0: 'const_1'
// VALNO:   Alias "::@__choreo_no_tiling__" -> #0
// VALNO:   New VN #1: '::__choreo_no_tiling__'
// VALNO:   New VN #2: 'const_50'
// VALNO:   Alias "::foo::H" -> #2
// VALNO:  } // end scope-1
// VALNO:  scope-1 {
// VALNO:   New VN #3: '::bar::x'
// VALNO:   New VN #4: 'const_100'
// VALNO:   New VN #5: '==:#3:#4'
// VALNO:   New VN #6: 'const_50.000000f'
// VALNO:   Alias "::bar::H" -> #6
// VALNO:  } // end scope-1
