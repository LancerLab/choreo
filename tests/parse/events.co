// RUN: choreo -e %s -o - | FileCheck %s


__co__  void foo() {
  parallel p by 6 {
    shared event e;
    trigger e;
    wait e;
  }
}
__co__ void bar() {
  parallel by 1 {
    shared event ge[3];
    local event ge1[2][2];
    trigger ge, ge1[0], ge1[1][0];
    wait ge, ge1;
  }
}

// CHECK: ChoreoFunction
// CHECK:  `- Name: foo
// CHECK:  `- Return type: void
// CHECK:  `- Parameters:
// CHECK:  `- Parallelization:  index symbol: p, bound [0, 6)
// CHECK:   `- Var Decl (event, shared): e
// CHECK:   `- TRIGGER: e
// CHECK:   `- WAIT: e


// CHECK: ChoreoFunction
// CHECK:  `- Name: bar
// CHECK:  `- Return type: void
// CHECK:  `- Parameters:
// CHECK:  `- Parallelization:  index symbol: anon_0, bound [0, 1)
// CHECK:   `- Var Decl (event, shared): ge[3]
// CHECK:   `- Var Decl (event, local): ge1[2][2]
// CHECK:   `- TRIGGER: ge,  (ge1 elemof 0) ,  ( (ge1 elemof 1)  elemof 0)
// CHECK:   `- WAIT: ge, ge1
