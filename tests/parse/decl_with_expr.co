// RUN: choreo -e %s | FileCheck %s

__co__ u8 mdspan<1> scalar_decls(int a, int b) {
  int c = a + (b - a) * a + a / 5 - b % a;
  c = 6 + 1;
  int d = b + 2;
  int e = 6 + 1;
  bool y = true && (d > c) || (d >= c) && (d < c) || (d <= c) && !(d == c) || !(d != c);
  y = false || (d <= c) && (!(d == c) || !(d != c));
  int f = (true) ? d + e : d - e;
  f = (c < d) ? c : d;
  f += a + 2;
  bool x = (d > c) ? d > e : d <= e;
  x = d != (c) ? d > c : d <= c;
}

// CHECK: ChoreoFunction
// CHECK:  `- Name: scalar_decls
// CHECK:  `- Return type: u8 <1>
// CHECK:  `- Parameters:
// CHECK:    `-  type: s32, symbol: a
// CHECK:    `-  type: s32, symbol: b
// CHECK:  `- Var Decl (s32): c =  ( ( (a +  ( (b - a)  * a) )  +  (a / 5) )  -  (b % a) )
// CHECK:  `- Assign: c =  (6 + 1)
// CHECK:  `- Var Decl (s32): d =  (b + 2)
// CHECK:  `- Var Decl (s32): e =  (6 + 1)
// CHECK:  `- Var Decl (bool): y =  ( ( ( (true &&  (d > c) )  ||  ( (d >= c)  &&  (d < c) ) )  ||  ( (d <= c)  &&  (!  (d == c) ) ) )  ||  (!  (d != c) ) )
// CHECK:  `- Assign: y =  (false ||  ( (d <= c)  &&  ( (!  (d == c) )  ||  (!  (d != c) ) ) ) )
// CHECK:  `- Var Decl (s32): f =  (true  ?  (d + e)  :  (d - e) )
// CHECK:  `- Assign: f =  ( (c < d)  ? c : d)
// CHECK:  `- Assign: f =  (f + (a + 2) )
// CHECK:  `- Var Decl (bool): x =  ( (d > c)  ?  (d > e)  :  (d <= e) )
// CHECK:  `- Assign: x = (d !=  (c  ?  (d > c)  :  (d <= c) ) )

// host program
int host(int a, int b) {
  return scalar_decls(a, b);
}
