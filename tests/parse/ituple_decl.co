// RUN: choreo -e %s | FileCheck %s --match-full-lines

__co__ bf16 mdspan<1> tuple_decls(int a, int b) {
  ituple val2 = {a, 9, 102};
  nvals = {100, 10, 1, b};
  nvals_reference_all = nvals;
  nvals_reference = nvals_reference_all {(2), (1)};
}

// CHECK: ChoreoFunction
// CHECK:  `- Name: tuple_decls
// CHECK:  `- Return type: bf16 <1>
// CHECK:  `- Parameters:
// CHECK:    `-  type: s32, symbol: a
// CHECK:    `-  type: s32, symbol: b
// CHECK:  `- Var Decl (ituple): val2 = {a, 9, 102}
// CHECK:  `- Var Decl (unknown): nvals = {100, 10, 1, b}
// CHECK:  `- Var Decl (unknown): nvals_reference_all = nvals
// CHECK:  `- Var Decl (ituple): nvals_reference = nvals_reference_all {(2), (1)}

// host program
int host(int a, int b) {
  return tuple_decls(a, b);
}
