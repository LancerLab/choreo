// RUN: choreo -e %s | FileCheck --match-full-lines %s

__co__ void foo() {
  parallel by 3 ;  /*no statement*/
  parallel by 3 i = 3;  /*single statement*/

  with a in [2]; /* no statement */
  with b in [2] i = 3; /* signle statement */

  with c in [2] foreach c ; /* no statement */
  with d in [2] foreach d i = 3; /* signle statement */

  parallel p by 2 {
    inthreads (p < 2); /* no statement */
    inthreads (p <= 2) i = 3; /* signle statement */
  }
}

// CHECK: ChoreoFunction
// CHECK:  `- Name: foo
// CHECK:  `- Return type: void
// CHECK:  `- Parameters:
// CHECK:  `- Parallelization:  index symbol: anon_0, bound [0, 3)
// CHECK:  `- Parallelization:  index symbol: anon_1, bound [0, 3)
// CHECK:   `- Var Decl (unknown): i = 3
// CHECK:  `- With Block:
// CHECK:    (within constraints)
// CHECK:    `- a in [ 2 ]
// CHECK:    (with empty statements)
// CHECK:  `- With Block:
// CHECK:    (within constraints)
// CHECK:    `- b in [ 2 ]
// CHECK:    (with statements)
// CHECK:    `- Assign: i = 3
// CHECK:  `- With Block:
// CHECK:    (within constraints)
// CHECK:    `- c in [ 2 ]
// CHECK:    (with statements)
// CHECK:    `- Foreach Block:
// CHECK:     `- Iteration variables: c
// CHECK:  `- With Block:
// CHECK:    (within constraints)
// CHECK:    `- d in [ 2 ]
// CHECK:    (with statements)
// CHECK:    `- Foreach Block:
// CHECK:     `- Iteration variables: d
// CHECK:     `- Assign: i = 3
// CHECK:  `- Parallelization:  index symbol: p, bound [0, 2)
// CHECK:   `- InThreads Block:
// CHECK:    `- Predication:  (p < 2)
// CHECK:   `- InThreads Block:
// CHECK:    `- Predication:  (p <= 2)
// CHECK:    `- Assign: i = 3
