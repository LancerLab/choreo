// RUN: not choreo -DMDSPAN %s 2>&1 | FileCheck --check-prefix=CHK-MDSPAN %s
// RUN: not choreo -DSPANNED %s 2>&1 | FileCheck --check-prefix=CHK-SPANNED %s
// RUN: not choreo -DITUPLE %s 2>&1 | FileCheck --check-prefix=CHK-ITUPLE %s
// RUN: not choreo -DINT %s 2>&1 | FileCheck --check-prefix=CHK-INT %s

__co__ void foo() {
#ifdef MDSPAN
  mutable mdspan a : [3, 4, 5];
#endif

#ifdef SPANNED
  mutable f32 [1, 2] c;
#endif

#ifdef ITUPLE
  mutable b = {1};
#endif

#ifdef INT
  mutable d;
#endif

  mutable int e = 3; // ok
}

// CHK-SPANNED: error: syntax error, unexpected [, expecting IDENTIFIER
// CHK-MDSPAN: error: syntax error, unexpected MDSPAN
// CHK-ITUPLE: error: `b' with a type of "ituple<1>" can not be declared as 'mutable'.
// CHK-INT: error: unable to deduce the type of `d'.
