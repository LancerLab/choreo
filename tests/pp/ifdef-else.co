// RUN: copp %s -o - | grep -v "\<CHECK\>" | FileCheck --match-full-lines %s

#define ABC
__co__ int ifdef(f32 d[]) {
#define BBC bbc
   must show 0
#ifdef ABC
   show me value ABC
  #ifndef BBC
   should not show up 0
  #else
   show me value BBC
   #ifdef NBC
     should not show up 1
   #else
     show me value NBC
   #endif
  #endif
#else
   should not show up
#endif
   must show 1
}
must show 2

// CHECK: #define ABC
// CHECK: must show 0
// CHECK: show me value 1
// CHECK-NOT: should not show up 0
// CHECK: show me value bbc
// CHECK-NOT: should not show up 1
// CHECK: show me value NBC
// CHECK: must show 1
// CHECK: must show 2
